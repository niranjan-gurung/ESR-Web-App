@using System.Text.RegularExpressions
@model Product

@{
    ViewData["Title"] = "Gaming PC";

    // trim full cpu name (shorthand for title):
    string? cpuShorthand = Model.Description.CPU;
    string? gpuShorthand = Model.Description.GPU;
    string num = Regex.Match(cpuShorthand, @"\d+").Value;
    int i = cpuShorthand.IndexOf(num);
    if (i >= 0) 
        cpuShorthand = cpuShorthand.Substring(0, i + 1);

    // trim full gpu name (shorthand for title):
    RegexOptions options = RegexOptions.IgnoreCase;
    MatchCollection matches = Regex.Matches(gpuShorthand, "r", options);
    if (matches.Count >= 2)
    {
        int j = matches[1].Index;
        gpuShorthand = gpuShorthand.Substring(j);
    }
}

<head>
    <link rel="stylesheet" href="~/css/productDetails.css" asp-append-version="true" />
</head>

<head>
    <style>
        img {
            width: 280px;
            height: 280px;
            object-fit: cover;
        }
    </style>
</head>

<main>
    <section class="hero-section">
        @* <p hidden>@Model.Id</p> *@
        <a asp-controller="Product" asp-action="GamingPCs" style="display:block;">Back to Products</a>
        <img src="@Url.Content(@Model.Image)" />
    </section>

    <div class="hero-description">
        <section class="hero-title">
            <header>@Model.Title</header>
            <p>@cpuShorthand | @gpuShorthand | Prebuilt Gaming PC</p>
            <h2>£@Model.Price</h2>
            <a asp-controller="Product">PCs Built in 2 Business Days</a>
        </section>
    
        <section class="hero-specification">
            <header>Specification</header>
            <p>Current Configuration</p>
            <h3>CPU</h3>
            <p>@Model.Description.CPU</p>
            <h3>GPU</h3>
            <p>@Model.Description.GPU</p>
            <h3>Memory</h3>
            <p>@Model.Description.Memory</p>
            <h3>Motherboard</h3>
            <p>@Model.Description.Motherboard</p>
            <h3>Storage</h3>
            <p>@Model.Description.Storage</p>
            <h3>PSU</h3>
            <p>@Model.Description.PSU</p>
        </section>
    </div>
</main>

<section class="sticky">

</section>
